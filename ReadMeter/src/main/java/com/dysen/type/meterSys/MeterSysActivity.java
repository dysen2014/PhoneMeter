package com.dysen.type.meterSys;import android.app.Dialog;import android.content.Intent;import android.os.Bundle;import android.view.KeyEvent;import android.view.View;import android.widget.TextView;import com.dysen.ble.bleSys.BleSysActivity;import com.dysen.myUtil.MyActivityTools;import com.dysen.mylibrary.utils.StatusBarUtil;import com.dysen.mylibrary.utils.util.SharedPreUtils;import com.dysen.nfcdemo.NFCDemoActivity;import com.dysen.qj.wMeter.R;/** *  * 邮箱: dysen@outlook.com | dy.sen@qq.com *  * 作者: 沈迪 [ sendy ] *  * 日期: 2015-8-25 下午5:20:36 *  * 描述: 抄表系统 *  */public class MeterSysActivity extends MyActivityTools {	String readId, readName;	@Override	protected void onCreate(Bundle savedInstanceState) {		// TODO Auto-generated method stub		super.onCreate(savedInstanceState);		setContentView(R.layout.activity_1_ms);		//透明状态栏		StatusBarUtil.setTransparent(this);		(this.findViewById(R.id.ll_back)).setOnClickListener(new View.OnClickListener() {			@Override			public void onClick(View v) {				myResult(readId, readName, true);				finish();			}		});		((TextView) this.findViewById(R.id.tv_hint)).setText("抄表系统");		// 把该 Activity 添加到 activity列表里 方便退出时一下子退出所有activity//		 	QuitAllActivity.getInstance().addActivity(this);		 				getData();	}		/**	 *	dysensen	 *	2015-8-25 下午19:29:48	 *	info: 获取数据	 */	private void getData() {				readId = (String) SharedPreUtils.get(this, "read_id", "");//				getIntent().getExtras().getString("login_id");		readName = (String)SharedPreUtils.get(this, "read_name", "");//				getIntent().getExtras().getString("user_name");	}	/**	 * 数据上传	 * @param v	 */	public void dataUpdate(View v) {		startActivity(new Intent(this, UpdateActivity.class));	}	boolean isConnSuccess;	/**	 * 表册	 * @param v	 */	public void meterList(View v) {		startActivity(new Intent(this, BookActivity.class));	}	/**	 *	dysen	 *	2016-6-17 下午5:14:25	 *	info: 补抄,漏抄	 */	public void btnFill(View v) {		startActivity(new Intent(this, FillMeterActivity.class));	}	/**	 *	dysen	 *	2016-6-15 下午3:04:25	*	info: ExpandingList	*/	public void btnNFC(View v) {		startActivity(new Intent(this, NFCDemoActivity.class));	}	/**	 * info	抄表位置定位	 * @param v	 */	public void btnReadMLocation(View v){		Intent it = new Intent(this, SelectMIdActivity.class);		it.putExtra("type", "location");		startActivity(it);//		startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("http://bushigaoshou.imwork.net:8889/admin/search/payRecord?meterID=11114379")));	}	/**	 * info BLE	 * @param v     */	public void btnBLE(View v) {		startActivity(new Intent(this, BleSysActivity.class));	}	public void photoShow(View v){		Intent it = new Intent(this, SelectMIdActivity.class);		it.putExtra("type", "photo");		startActivity(it);	}	/**	 * info	缴费记录	 * @param v	 */	public void checkRM(View v){		Intent it = new Intent(this, SelectMIdActivity.class);		it.putExtra("type", "check");		startActivity(it);//		startActivity(new Intent(Intent.ACTION_VIEW, Uri.parse("http://bushigaoshou.imwork.net:8889/admin/search/payRecord?meterID=11114379")));	}	/**	 *	dysen	 *	2016-6-15 下午3:04:25	 *	info:	 */	public void btn(View v) {//		startActivity(new Intent(this, .class));	}		private Dialog mAlert;	Integer statusId;	Intent it;	Integer statu;	void myResult(String readId, String readName, boolean isSuccessLogin){				//数据是使用Intent返回        Intent intent = new Intent();        //把返回数据存入Intent        intent.putExtra("read_id", readId);        intent.putExtra("read_name", readName);        intent.putExtra("flag_login", isSuccessLogin);        //设置返回数据        this.setResult(2, intent);        //关闭Activity        this.finish();}		@Override	public boolean onKeyDown(int keyCode, KeyEvent event) {		if (keyCode == KeyEvent.KEYCODE_BACK) {			myResult(readId, readName, true);// 返回数据			finish();		}		return false;	}}